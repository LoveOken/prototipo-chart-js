(()=>{var t,e,n,a,r={978:t=>{t.exports={orange:"#ED6737",orange2:"#76c68f",orange3:"#a6d75b",orange4:"#c9e52f",cyan:"#0094BF",blue:"#0077D4",navy:"#263278",gray:"#4D4D4D",black:"#000000"}},76:t=>{t.exports=function(t){var e=function(t){return Math.abs(t).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")};this.options.scales[t].ticks.callback=e,this.options.plugins.tooltip.callbacks.label=function(n){var a=n.dataset.label||"";return a&&(a+=": "),null!==n.parsed[t]&&(a+=e(n.parsed[t])),a}}},133:t=>{t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.options.scales[t].ticks.callback=function(t){return parseFloat(t*e).toFixed(n)+"%"},this.options.plugins.tooltip.callbacks.label=function(n){var a=n.dataset.label||"";return a&&(a+=": "),null!==n.parsed[t]&&(a+=parseFloat(n.parsed[t]*e).toFixed(1)+"%"),a}}},511:t=>{t.exports=function(t){var e=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")};this.options.scales[t].ticks.callback=e,this.options.plugins.tooltip.callbacks.label=function(n){var a=n.dataset.label||"";return a&&(a+=": "),null!==n.parsed[t]&&(a+=e(n.parsed[t])),a}}},320:t=>{t.exports=function(t,e,n){this.options.plugins.title.text=t.split("{n}"),this.options.plugins.legend.title.text=e.split("{n}"),this.options.plugins.subtitle.text=n.split("{n}")}},735:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}t.exports=function(t){var n,a=0,r=function(t,n){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,n){if(t){if("string"==typeof t)return e(t,n);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){a&&(t=a);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return l=t.done,t},e:function(t){c=!0,i=t},f:function(){try{l||null==a.return||a.return()}finally{if(c)throw i}}}}(this.data.datasets);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.label=t[a].label,o.data=t[a].cells.map(Number),a++}}catch(t){r.e(t)}finally{r.f()}this.update()}},496:(t,e,n)=>{var a=n(133);t.exports=function(t){var e=a.bind(this);t?(this.options.plugins.legend.onClick=void 0,this.options.scales.y.max=void 0):(this.options.plugins.legend.onClick=function(t,n,a){var r=n.datasetIndex,o=a.chart;o.isDatasetVisible(r)?(o.hide(r),0===r&&(o.options.scales.y.max=void 0,e("y",100,1)),n.hidden=!0):(o.show(r),0===r&&(o.options.scales.y.max=1,e("y",100)),n.hidden=!1),o.update()},this.isDatasetVisible(0)?(this.options.scales.y.max=1,e("y",100)):(this.options.scales.y.max=void 0,e("y",100,1)))}},121:t=>{t.exports=function(t,e){var n=Math.min(e.offsetWidth/600,1);Chart.defaults.font.size=12*n,t.options.plugins.title.font.size=21*n,t.options.plugins.legend.title.font.size=14*n,t.options.plugins.subtitle.font.size=12*n}},503:t=>{t.exports=function(t){t.options.plugins.legend.labels={boxWidth:0,boxHeight:0,font:{size:0}}}},783:t=>{t.exports=function(t,e){if(t=t.replace(/{n}/g," "),navigator.msSaveBlob)e.toBlob((function(e){return navigator.msSaveBlob(e,t)}));else{var n=document.createElement("a");n.download=t,n.href=e.toDataURL(),document.body.appendChild(n),n.click(),document.body.removeChild(n)}}},223:t=>{t.exports=function(t){if(navigator.msSaveBlob)fetch(t).then((function(t){return t.blob()})).then((function(t){return navigator.msSaveBlob(t,"datos.xlsx")}));else{var e=document.createElement("a");e.href=t,document.body.appendChild(e),e.click(),document.body.removeChild(e)}}},73:(t,e,n)=>{var a=n(782),r=n(399),o=n(641),i=n(735),l=n(133),c=n(76),s=n(511),u=n(320),f=n(503),p=n(783),d=n(223),g=n(496),b=n(121);t.exports=function(t,e){var n=t.name,h=void 0===n?"none":n,y=t.colors,v=t.type,m=t.options,j=t.ticks,w=t.labels,x=void 0===w||w,k=e.getData,O=e.getFilename,S=e.setFills,_=e.onFetch,A=document.getElementById(h+"-chart"),F=document.getElementById(h+"-select"),C=document.getElementById(h+"-img-button"),E=document.getElementById(h+"-file-button");if(!A)return console.log("Gráfico ".concat(h," no existe.")),!1;var D=A.getAttribute("data-url"),R=A.getAttribute("data-pais"),B=r(new Array(j).fill(""),y),I=o(v,B,m);S&&S(B),x||f(I);var L=new Chart(A,I);a.fetch(D,(function(t){var e,n=k(t,R);B.labels=n.etiquetas,_(n,R,F,{update:i.bind(L),absolute:c.bind(L),percentage:l.bind(L),normal:s.bind(L),title:u.bind(L),zero:g.bind(L)}),C.onclick=function(){var t=O(R,F);p(t+".png",A)},E.onclick=function(){d(D)};var a=function(){b(L.config,A),L.update()};window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout(a,100)})),a()}))}},641:(t,e,n)=>{function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(978),l=n(980);t.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Chart.defaults.font.family="'Open Sans', sans-serif",Chart.defaults.font.weight=300,Chart.defaults.font.color=i.gray,{type:t,data:e,options:r({maintainAspectRatio:!0,aspectRatio:1.2,elements:{point:{radius:0,hitRadius:5}},layout:{padding:15},plugins:{title:{display:!0,text:"",position:"top",align:"start",color:i.cyan,padding:12,font:{family:"'Josefin Sans', sans-serif"}},subtitle:{display:!0,text:"",position:"bottom",align:"start",padding:12,font:{weight:400}},legend:{labels:{font:{weight:400}},title:{display:!0,text:"",font:{weight:400}}},tooltip:{backgroundColor:i.gray}}},n),plugins:[l]}}},399:(t,e,n)=>{var a=n(148);t.exports=function(t,e){return{labels:t,datasets:e.map(a)}}},148:t=>{t.exports=function(t){return{label:"",fill:!0,borderWidth:1,borderColor:t,backgroundColor:t+"AA",data:[]}}},980:t=>{t.exports={id:"custom_canvas_background_color",beforeDraw:function(t){var e=t.canvas.getContext("2d");e.save(),e.fillStyle="white",e.globalCompositeOperation="destination-over",e.fillRect(0,0,t.width,t.height),e.restore()}}},782:t=>{function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=XLSX.read(new Uint8Array(e),{type:"array"}),a=Object.values(n.Sheets)[0];this.data=XLSX.utils.sheet_to_json(a),this.lang={},console.log(this.data)}var n,a,r;return n=t,a=[{key:"createValues",value:function(t,e){return{label:this.lang[t]||t,cells:e,shift:function(){return this.cells.shift(),this},invert:function(){return this.cells=this.cells.map((function(t){return-t})),this},nullify:function(){return this.cells=this.cells.map((function(t){return void 0===t?-1e4:t})),this}}}},{key:"readRow",value:function(t,e,n){var a=this.data.find((function(n){return n.cod_pais===t&&n.parametro===e}));if(a){var r=n.map((function(t){return a[t]}));return this.createValues(e,r)}throw new Error("The country code/parameter is invalid - El código país/parametro es invalido.")}},{key:"readMany",value:function(t,e,n){var a=this,r=this.data.filter((function(n){return n.cod_pais===t&&n.parametro===e}));if(r.length>0){var o={};return r.forEach((function(t){var e=n.map((function(e){return t[e]}));o[t.pais_origen]=a.createValues(t.pais_origen,e)})),o}throw new Error("The country code/parameter is invalid - El código país/parametro es invalido.")}},{key:"setLang",value:function(t){this.lang=t}}],r=[{key:"fetch",value:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(e,n){fetch(e).then((function(t){return t.arrayBuffer()})).then((function(e){var a=new t(e);n(a)}))}))}],a&&e(n.prototype,a),r&&e(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();t.exports=n},49:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}t.exports=function(t,n,a){a({name:"graf1",colors:[t.navy,t.blue,t.cyan,t.orange],type:"line",options:{scales:{y:{min:0}}},ticks:11},{getData:function(t,e){t.setLang(n);var a=["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020"];return{etiquetas:a,hoja1:{preescolar:t.readRow(e,"ed_preescolar",a),primaria:t.readRow(e,"ed_primaria",a),secundaria:t.readRow(e,"ed_secundaria",a),terciaria:t.readRow(e,"ed_terciaria",a)}}},getFilename:function(t){return n.title1.replace("{c}",n["country"+t])},setFills:function(t){var n,a=function(t,n){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,n){if(t){if("string"==typeof t)return e(t,n);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){a&&(t=a);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return l=t.done,t},e:function(t){c=!0,i=t},f:function(){try{l||null==a.return||a.return()}finally{if(c)throw i}}}}(t.datasets);try{for(a.s();!(n=a.n()).done;){var r=n.value,o=r.backgroundColor.slice(0,7);r.backgroundColor=o+"15"}}catch(t){a.e(t)}finally{a.f()}},onFetch:function(t,e,a,r){r.title(n.title1.replace("{c}",n["country"+e]),n.subtitle1,n.source1),r.percentage("y"),r.update(Object.values(t.hoja1))}})}},794:t=>{t.exports=function(t,e,n){n({name:"graf2",colors:[t.orange],type:"line",options:{scales:{y:{min:0,max:100}}},ticks:11,labels:!1},{getData:function(t,n){t.setLang(e);var a=["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020"];return{etiquetas:a,hoja1:{edades15oMas:t.readRow(n,"15_anos_o_mas",a).nullify()},hoja2:{edades15a24:t.readRow(n,"15_a_24_anos",a).nullify()}}},getFilename:function(t,n){var a=e.title2.replace("{c}",e["country"+t])+" ";return 1==n.value?a+e.subtitle2a:a+e.subtitle2b},onFetch:function(t,n,a,r){a.onchange=function(){var o,i;1==a.value?(o=t.hoja1,i=e.subtitle2a):(o=t.hoja2,i=e.subtitle2b),r.title(e.title2.replace("{c}",e["country"+n]),i,e.source1),r.update(Object.values(o))},r.percentage("y"),a.onchange()}})}},199:t=>{t.exports=function(t,e,n){n({name:"graf3",colors:[t.orange],type:"line",options:{scales:{y:{min:0,max:100}}},ticks:11,labels:!1},{getData:function(t,n){t.setLang(e);var a=["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020"];return{etiquetas:a,hoja1:{logroPrimaria:t.readRow(n,"primaria",a).nullify()},hoja2:{logroSecundaria:t.readRow(n,"sec_baja",a).nullify()},hoja3:{logroSecundariaAlta:t.readRow(n,"sec_alta",a).nullify()}}},getFilename:function(t,n){var a=e.title3.replace("{c}",e["country"+t])+" ";return 1==n.value?a+e.subtitle3a:2==n.value?a+e.subtitle3b:a+e.subtitle3c},onFetch:function(t,n,a,r){a.onchange=function(){var o,i;1==a.value?(o=t.hoja1,i=e.subtitle3a):2==a.value?(o=t.hoja2,i=e.subtitle3b):(o=t.hoja3,i=e.subtitle3c),r.title(e.title3.replace("{c}",e["country"+n]),i,e.source1),r.update(Object.values(o))},r.percentage("y"),a.onchange()}})}},146:t=>{t.exports=function(t,e,n){n({name:"graf4",colors:[t.orange],type:"bar",options:{scales:{y:{beginAtZero:!0}}},ticks:18,labels:!1},{getData:function(t,n){return t.setLang(e),{etiquetas:["0-4","5-9","10-14","15-19","20-24","25-29","30-34","35-39","40-44","45-49","50-54","55-59","60-64","65-69","70-74","75+"],hoja1:{poblacionTotalMigrante:t.readRow(n,"pobl_migrante_cant",["0a4","5a9","10a14","15a19","20a24","25a29","30a34","35a39","40a44","45a49","50a54","55a59","60a64","65a69","70a74","75_mas"])}}},getFilename:function(t){return e.title4.replace("{c}",e["country"+t])},onFetch:function(t,n,a,r){r.title(e.title4.replace("{c}",e["country"+n]),e.subtitle4,e.source2),r.update(Object.values(t.hoja1))}})}},815:t=>{t.exports=function(t,e,n){n({name:"graf5",colors:[t.orange,t.cyan],type:"bar",options:{indexAxis:"y",scales:{x:{stacked:!0},y:{stacked:!0,reverse:!0}}},ticks:17},{getData:function(t,n){t.setLang(e);var a=["0a4","5a9","10a14","15a19","20a24","25a29","30a34","35a39","40a44","45a49","50a54","55a59","60a64","65a69","70a74","75_mas"];return{etiquetas:["0-4","5-9","10-14","15-19","20-24","25-29","30-34","35-39","40-44","45-49","50-54","55-59","60-64","65-69","70-74","75+"],hoja1:{mujeres:t.readRow(n,"pobl_migrante_muj",a).invert(),hombres:t.readRow(n,"pobl_migrante_hom",a)}}},getFilename:function(t){return e.title5.replace("{c}",e["country"+t])},onFetch:function(t,n,a,r){r.title(e.title5.replace("{c}",e["country"+n]),e.subtitle5,e.source2),r.absolute("x"),r.update(Object.values(t.hoja1))}})}},563:t=>{t.exports=function(t,e,n){n({name:"graf6",colors:[t.orange],type:"line",options:{scales:{y:{min:0,max:10}}},ticks:7,labels:!1},{getData:function(t,n){t.setLang(e);var a=["1990","1995","2000","2005","2010","2015","2020"];return{etiquetas:a,hoja1:{porcentaje:t.readRow(n,"pobl_migrante_porcentaje",a)}}},getFilename:function(t){return e.title6.replace("{c}",e["country"+t])},onFetch:function(t,n,a,r){r.title(e.title6.replace("{c}",e["country"+n]),e.subtitle6,e.source2),r.percentage("y"),r.update(Object.values(t.hoja1))}})}},982:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}t.exports=function(t,n,a){a({name:"graf7",colors:[t.orange,t.orange2,t.orange3,t.orange4,t.cyan,t.navy],type:"line",options:{y:{stacked:!0,min:0}},ticks:12},{getData:function(t){t.setLang(n);var e=["2009-2010","2010-2011","2011-2012","2012-2013","2013-2014","2014-2015","2015-2016","2016-2017","2017-2018","2018-2019","2019-2020","2020-2021"];return{etiquetas:e,hoja1:t.readMany("ec","matricula_cantidad",e),hoja2:t.readMany("ec","matricula_porcentaje",e)}},getFilename:function(t,e){var a=n.title7.replace("{c}",n["country"+t])+" ";return 1==e.value?a+n.subtitle7a:a+n.subtitle7b},setFills:function(t){var n,a=0,r=function(t,n){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,n){if(t){if("string"==typeof t)return e(t,n);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){a&&(t=a);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return l=t.done,t},e:function(t){c=!0,i=t},f:function(){try{l||null==a.return||a.return()}finally{if(c)throw i}}}}(t.datasets);try{for(r.s();!(n=r.n()).done;){n.value.fill=a>0?"-1":"origin",a++}}catch(t){r.e(t)}finally{r.f()}},onFetch:function(t,e,a,r){a.onchange=function(){var o,i;1==a.value?(o=t.hoja1,i=n.subtitle7a,r.normal("y"),r.zero(!0)):(o=t.hoja2,i=n.subtitle7b,r.zero(!1)),r.title(n.title7.replace("{c}",n["country"+e]),i,""),r.update(Object.values(o))},a.onchange()}})}}},o={};function i(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={exports:{}};return r[t](n,n.exports,i),n.exports}t=i(978),e=i(73),n=i(782),a=document.getElementsByName("data-traduccion")[0].getAttribute("content"),n.fetch(a,(function(n){var a=document.documentElement.lang.startsWith("es")?"es":"en",r={};Object.values(n.data).forEach((function(t){var e=t.id||"";r[t.type+e]=t[a]})),i(49)(t,r,e),i(794)(t,r,e),i(199)(t,r,e),i(146)(t,r,e),i(815)(t,r,e),i(563)(t,r,e),i(982)(t,r,e)}))})();